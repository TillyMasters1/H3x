loadstring(game:HttpGet('https://h3x.wtf/GameList.lua'))()
local notify = loadstring(game:HttpGet('https://h3x.wtf/Notify'))()
local mt = getrawmetatable(game)
local old = mt.__namecall
local protect = newcclosure or protect_function

if not protect then
protect = function(f) return f end
end

setreadonly(mt, false)
mt.__namecall = protect(function(self, ...)
local method = getnamecallmethod()
if method == "Kick" then
wait(9e9)
return
end
return old(self, ...)
end)
hookfunction(game:GetService("Players").LocalPlayer.Kick,protect(function() wait(9e9) end))

local ingame = false

for _,Game in pairs(_G.Games) do
  if game.PlaceId == Game.ID then
    ingame = true
    spawn(function()
        notify.push({
		Title = "H3x",
		Text = "Loaded "..game:GetService("MarketplaceService"):GetProductInfo(game.PlaceId).Name.." Script",
		Duration = 5;
    	})
    end)
    loadstring(game:HttpGet("https://h3x.wtf/Games/"..Game.Script))()
    return
  else
    ingame = false
  end
end

if ingame == false then
    notify.push({
        Title = "H3x",
        Text = "We do not currently support this game",
        Duration = 30,
        Button1 = "Load Universal script",
        callback = function()
            loadstring(game:HttpGet("https://h3x.wtf/Games/Universal.lua"))()
        end
    })
end
